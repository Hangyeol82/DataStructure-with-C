# Graph (그래프)

📌 **C 언어로 구현한 그래프 (Graph)**  
정점(Vertex)과 간선(Edge)을 **인접 리스트(Adjacency List)**로 표현한 구조입니다.  
양방향 그래프를 기본으로 하며, DFS, BFS, MST(최소 신장 트리) 기능을 포함합니다.  

---

## 📖 주요 기능

### 1. `add_node(int id)`
- **역할**: 그래프에 새로운 정점을 추가하거나, 이미 존재하면 해당 정점 반환.
- **알고리즘 단계**
  1. 정점 리스트에서 `id`를 탐색.
  2. 없으면 새로운 노드를 생성하여 tail 뒤에 연결.
  3. 있으면 기존 노드를 그대로 반환.
- **시간 복잡도**: O(V)  

---

### 2. `add_edge(int s, int e, int w)`
- **역할**: 정점 `s`와 `e`를 연결하는 간선을 삽입. (무향 → 양방향 추가)
- **알고리즘 단계**
  1. `s`, `e` 정점이 없으면 `add_node()`로 새로 생성.
  2. 새로운 간선(`AdjNode`)을 생성 후 `s`의 인접 리스트에 삽입.
  3. `id` 오름차순 탐색이 가능하도록 **내림차순으로 정렬**된 인접 리스트 유지.
  4. 무향 그래프이므로 `add_edge(e, s, w)`도 함께 수행.
- **시간 복잡도**: O(deg(s))  

---

### 3. `delete_edge(int s, int e)`
- **역할**: 정점 `s`와 `e` 사이의 간선을 삭제.
- **알고리즘 단계**
  1. `s`와 `e`가 그래프에 없으면 `"There is no such vertex"`.
  2. `s`의 인접 리스트에서 `e`로 가는 간선을 찾아 삭제.
  3. `e`의 인접 리스트에서도 `s`로 가는 간선을 찾아 삭제.
  4. 간선이 없으면 `"There is no such edge"`.
- **시간 복잡도**: O(deg(s) + deg(e))  

---

### 4. `dfs(int id)`
- **역할**: 시작 정점 `id`에서 깊이 우선 탐색(DFS)을 수행.
- **알고리즘 단계**
  1. 스택을 이용해 DFS 실행.
  2. 방문하지 않은 노드를 pop 후 출력.
  3. 해당 노드의 인접 리스트를 확인하며 방문하지 않은 노드를 push.
  4. 내림차순 push → LIFO 동작으로 작은 id 순서대로 방문.
- **시간 복잡도**: O(V + E)  

---

### 5. `bfs(int id)`
- **역할**: 시작 정점 `id`에서 너비 우선 탐색(BFS)을 수행.
- **알고리즘 단계**
  1. 큐를 이용해 BFS 실행.
  2. 시작 정점을 enqueue, 방문 처리.
  3. 큐에서 노드를 dequeue하여 출력.
  4. 인접 노드를 스택에 push → 다시 큐에 enqueue → 작은 id 순서 유지.
- **시간 복잡도**: O(V + E)  

---

### 6. `mst()`
- **역할**: Kruskal 알고리즘으로 최소 신장 트리(MST) 계산.
- **알고리즘 단계**
  1. 모든 간선을 배열에 수집.
  2. `qsort()`로 가중치 기준 오름차순 정렬.
  3. Union-Find 자료구조로 사이클 여부 확인.
  4. 사이클이 없으면 MST에 간선 추가.
  5. 선택된 MST 간선들과 전체 가중치 출력.
- **시간 복잡도**: O(E log E)  

---

### 7. `find_node(int id)`
- **역할**: 그래프에서 특정 `id` 정점을 탐색.
- **알고리즘 단계**
  1. 정점 리스트를 순회하며 `id` 확인.
  2. 발견 시 해당 노드 반환, 없으면 NULL.
- **시간 복잡도**: O(V)  

---

### 8. `free_graph()`
- **역할**: 그래프의 모든 정점과 간선을 메모리에서 해제.
- **알고리즘 단계**
  1. 각 정점의 인접 리스트를 순회하며 간선(`AdjNode`) 해제.
  2. 정점(`Node`) 해제.
  3. 그래프 구조체(`Graph *g`) 최종 해제.
- **시간 복잡도**: O(V + E)  

---
